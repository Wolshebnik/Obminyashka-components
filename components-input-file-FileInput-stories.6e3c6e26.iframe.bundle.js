"use strict";(self.webpackChunkobminyashka_components=self.webpackChunkobminyashka_components||[]).push([[378],{"./src/components/input-file/FileInput.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{InputFileDefault:()=>InputFileDefault,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _InputFileDefault$par,_InputFileDefault$par2,_InputFileDefault$par3,D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/input-file/index.tsx"),_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/input-file/styles.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"InputFile",component:___WEBPACK_IMPORTED_MODULE_1__.h};var InputFileDefault={args:{name:"images",error:"Error"},render:function render(args){var _useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),_useState2=(0,D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_useState,2),images=_useState2[0],setImages=_useState2[1];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_styles__WEBPACK_IMPORTED_MODULE_2__.EW,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.h,(0,D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__.Z)((0,D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__.Z)({},args),{},{onChange:function onChange(e,dropFiles){var files=[];e.target instanceof HTMLInputElement&&e.target.files&&(files=(0,D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_5__.Z)(e.target.files)),dropFiles&&(files=(0,D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_5__.Z)(dropFiles)),files.forEach((function(element){var reader=new FileReader;reader.readAsDataURL(element),reader.onload=function(){var _ref2=(0,D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_7__.Z)().mark((function _callee(_ref){var target,imageBase64;return(0,D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_7__.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:2===(null==(target=_ref.target)?void 0:target.readyState)&&(imageBase64=target.result,setImages((function(prev){return[].concat((0,D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_5__.Z)(prev),[imageBase64])})),e.target instanceof HTMLInputElement&&e.target.value&&(e.target.value=""));case 2:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref2.apply(this,arguments)}}()}))}})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"},children:images.map((function(file,index){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("img",{src:file,alt:"preview",style:{width:"150px",height:"150px",borderRadius:10,objectFit:"cover"}},index)}))})]})}};InputFileDefault.parameters=(0,D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__.Z)((0,D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__.Z)({},InputFileDefault.parameters),{},{docs:(0,D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__.Z)((0,D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__.Z)({},null===(_InputFileDefault$par=InputFileDefault.parameters)||void 0===_InputFileDefault$par?void 0:_InputFileDefault$par.docs),{},{source:(0,D_EVO_Obminyashka_components_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__.Z)({originalSource:"{\n  args: {\n    name: 'images',\n    error: 'Error'\n  },\n  render: args => {\n    const [images, setImages] = useState<string[]>([]);\n    const onChange = (e: InputChangeEventType | LabelDragEventType, dropFiles?: File[]) => {\n      let files: File[] = [];\n      if (e.target instanceof HTMLInputElement && e.target.files) {\n        files = [...e.target.files];\n      }\n      if (dropFiles) {\n        files = [...dropFiles];\n      }\n      files.forEach((element: File) => {\n        const reader = new FileReader();\n        reader.readAsDataURL(element);\n        reader.onload = async ({\n          target\n        }) => {\n          if (target?.readyState === 2) {\n            const imageBase64 = (target.result as string);\n            setImages(prev => [...prev, imageBase64]);\n            if (e.target instanceof HTMLInputElement && e.target.value) {\n              e.target.value = '';\n            }\n          }\n        };\n      });\n    };\n    return <Styles.WrapFiles>\r\n        <InputFile {...args} onChange={onChange} />\r\n\r\n        <div style={{\n        display: 'flex',\n        flexWrap: 'wrap',\n        gap: '10px'\n      }}>\r\n          {images.map((file, index) => <img src={file} key={index} alt=\"preview\" style={{\n          width: '150px',\n          height: '150px',\n          borderRadius: 10,\n          objectFit: 'cover'\n        }} />)}\r\n        </div>\r\n      </Styles.WrapFiles>;\n  }\n}"},null===(_InputFileDefault$par2=InputFileDefault.parameters)||void 0===_InputFileDefault$par2||null===(_InputFileDefault$par3=_InputFileDefault$par2.docs)||void 0===_InputFileDefault$par3?void 0:_InputFileDefault$par3.source)})});var __namedExportsOrder=["InputFileDefault"]}}]);